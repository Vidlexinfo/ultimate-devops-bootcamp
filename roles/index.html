<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Roles - Ultimate Devops Bootcamp</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Roles";
    var mkdocs_page_input_path = "roles.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Ultimate Devops Bootcamp</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../preface/">Outline</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ansible_docs/">Ansible</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../docker_index/">Docker</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">CI-CD</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../020_install_jenkins_jfrog_artifactory/">Setting up CI-CD Environment</a>
                </li>
                <li class="">
                    
    <a class="" href="../030_install_plugins/">Jenkins Global Security and Plugins Configurations</a>
                </li>
                <li class="">
                    
    <a class="" href="../040_jenkins_config/">Jenkins Tools Configurations</a>
                </li>
                <li class="">
                    
    <a class="" href="../050_jenkins_jobs/">Jenkins Jobs</a>
                </li>
                <li class="">
                    
    <a class="" href="../060_building_jobs_pipeline/">Building a Pipeline</a>
                </li>
                <li class="">
                    
    <a class="" href="../070_frontend/">Build Pipeline For Front-End</a>
                </li>
                <li class="">
                    
    <a class="" href="../080_catalogue/">Build Pipeline For Catalogue</a>
                </li>
                <li class="">
                    
    <a class="" href="../090_carts/">Build Pipeline For Carts</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Ultimate Devops Bootcamp</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Roles</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h3 id="roles-for-modular-configurations">Roles for modular configurations</h3>
<p>Now is the time to start creating modular, reusable library of code for application configurations. In this chapter, we are going to write such modular code, in the form of roles and setup application server.</p>
<p>We are going to create the roles with following specs,</p>
<ul>
<li>frontend</li>
<li>catalogue</li>
<li>
<p>cart</p>
</li>
<li>
<p>Create roles directory</p>
</li>
</ul>
<pre><code>mkdir roles
</code></pre>

<ul>
<li>Generate role scaffolding using ansible-galaxy</li>
</ul>
<pre><code>ansible-galaxy init --offline --init-path=roles  frontend
</code></pre>

<ul>
<li>Validate</li>
</ul>
<pre><code>tree roles/
</code></pre>

<p>[output]</p>
<pre><code>  roles/
    └── apache
        ├── defaults
        │   └── main.yml
        ├── files
        ├── handlers
        │   └── main.yml
        ├── meta
        │   └── main.yml
        ├── README.md
        ├── tasks
        │   └── main.yml
        ├── templates
        ├── tests
        │   ├── inventory
        │   └── test.yml
        └── vars
            └── main.yml
</code></pre>

<h3 id="playbooks-to-map-hosts-to-roles">Playbooks to map hosts to roles</h3>
<p>Create a playbook for app servers frontend.yaml , with following contents</p>
<pre><code>  ---
  - hosts: frontend
    become: true
    roles:
      - frontend
</code></pre>

<pre><code>  ansible-playbook frontend.yml

</code></pre>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
